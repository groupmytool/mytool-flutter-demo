# 基础语法
## new关键字
在 Dart 语言中，创建对象时可以省略 `new` 关键字。这是 Dart 2.0 引入的一个语法糖。在 Dart 2.0 之前，你需要使用 `new` 关键字来创建一个对象，例如 `new MyClass()`。但在 Dart 2.0 之后，你可以直接写 `MyClass()` 来创建一个对象，不需要 `new` 关键字。

这个改变的目的是为了让代码更简洁，更易读。在 Dart 中，创建对象的操作非常常见，所以省略 `new` 关键字可以减少代码的冗余，提高代码的可读性。

请注意，虽然可以省略 `new` 关键字，但这并不意味着对象的创建方式有所改变。无论是否使用 `new` 关键字，Dart 都会为新对象分配内存，并调用其构造函数来初始化对象。


## 位置参数
在 Dart 中，构造函数的参数可以分为两种：必需参数和可选参数。如果按照如下方式定义，那么所有参数都是必需参数：
```
const MyHomePage(super.key, required this.title);
```

## 可选参数{}
在 Dart 中，如果你想要定义`可选的命名参数`，那么你需要使用大括号 {}。 定义：
```
const MyHomePage({super.key, required this.title});
```
使用：
```
home: const MyHomePage(title: 'Flutter Demo Home Page') 
```
在 MyHomePage 的构造函数中，super.key 和 this.title 是两个参数。其中 super.key 是可选参数，this.title 是必需参数。

如果你省略了大括号，那么这些参数将变成`位置参数`，必须按照定义的顺序来提供。

## 箭头语法
```
State<myhomepage> createState() => _MyHomePageState();</myhomepage>
```
等价于
```
State<myhomepage> createState() {
  return _MyHomePageState();
}
```
这两种写法的效果是完全一样的，都是创建并返回一个 `_MyHomePageState` 对象。

## 匿名方法
匿名方法是一种没有名字的方法，它可以在需要时直接定义和使用，而不必事先声明。在 Dart 中，你可以使用匿名方法来实现回调函数、事件处理等功能。
```
() {
  print('Hello, World!');
}
```
或者使用匿名方法返回一个值：
```
() => 'Hello, World!';
```

## 下划线
为什么 MyHomePage 没有下划线开头，但是 _MyHomePageState 是用了下划线开头？

在 Dart 语言中，下划线 `_` 开头的标识符表示该标识符是私有的。这意味着 `_MyHomePageState` 类只能在定义它的库中访问，而不能在其他库中访问。这是一种封装的方式，可以保护类的内部实现不被外部访问。

而 `MyHomePage` 类没有下划线开头，表示它是公有的，可以在任何地方访问。这通常是因为这个类需要在其他地方被使用。

在这个例子中，`MyHomePage` 是一个公开的 StatefulWidget，它的状态 `_MyHomePageState` 是私有的，因为状态通常只在该 widget 内部使用，不需要公开。

## 库
“_MyHomePageState 类只能在定义它的库中访问”，这个“库”是什么库？

在 Dart 中，"库"（Library）是一个代码组织和共享的单元。库不仅提供了 API，还是一个隐私单元：标识符以 `_` 开头的只在库内部可见。每个 Dart 文件都是一个库，即使没有使用 `library` 指令来命名它。

所以，当我们说 "_MyHomePageState 类只能在定义它的库中访问"，这里的 "库" 指的是定义 `_MyHomePageState` 类的 Dart 文件。在你提供的代码中，这个文件就是 `lib/main.dart`。这意味着 `_MyHomePageState` 只能在 `lib/main.dart` 文件中被访问，而不能在这个文件之外的任何地方访问。

## 顶层函数
在 Dart 中，顶层函数是定义在库中的函数，而不是定义在类中的函数。顶层函数不属于任何类，它们是库的一部分，可以在库的任何地方调用。
顶层函数和类中的函数主要有以下几点区别：
1. 作用域：顶层函数在其所在的文件中都是可见的，可以直接调用。而类中的函数（也称为方法）只能通过类的实例或者类名（对于静态方法）来调用。
2. 上下文：类中的函数可以访问类的实例变量和其他方法，因此它们有一个特定的上下文。而顶层函数没有这样的上下文，它们不能访问类的实例变量或者其他方法，除非这些变量或者方法被传递给它们作为参数。
3. 封装：类中的函数可以被声明为私有的，只能在类内部访问，这有助于封装和隐藏实现细节。而顶层函数可以被任何在同一文件中的代码访问，但如果你想让它们在文件外部不可见，你可以通过在函数名前加上下划线`_`来将它们声明为私有的。
4. 继承：类中的函数可以被子类继承和覆盖，这是面向对象编程的一个重要特性。而顶层函数不能被继承或覆盖。

总的来说，你应该根据你的具体需求来选择使用顶层函数还是类中的函数。如果你需要使用面向对象编程的特性（如封装、继承和多态），那么你应该使用类和类中的函数。如果你不需要这些特性，那么使用顶层函数可能会更简单和直接。

## 命名规范
Dart类型需要和文件名一致吗？文件名也需要使用驼峰模式吗？

在 Dart 中，类型（即类名）并不需要与文件名一致。类名应该使用 UpperCamelCase（也称为 PascalCase）风格，而文件名应该使用小写字母，并使用下划线来分隔单词，这是 Dart 的官方风格指南的建议。
例如，如果你有一个名为 `MyClass` 的类，你可以将其放在名为 `my_class.dart` 的文件中。这样做可以帮助其他开发者更容易地找到和理解你的代码。

# Flutter

## super.key
```
const MyApp({super.key});
```
在 Dart 和 Flutter 中，`const MyApp({super.key});` 是一个构造函数的声明。这是 `MyApp` 类的构造函数，它接受一个名为 `key` 的参数，并将其传递给父类的构造函数。

让我们分解一下这个声明：

- `const`：这是一个常量构造函数，意味着你可以使用 `const` 关键字来创建 `MyApp` 的实例。当你使用 `const` 创建实例时，Dart 会重用相同的实例，而不是每次都创建新的实例。这可以提高性能。

- `MyApp`：这是构造函数的名称，它与类名相同。

- `({super.key})`：这是构造函数的参数列表。`super.key` 表示这个构造函数将 `key` 参数传递给它的父类的构造函数。在这种情况下，父类是 `StatelessWidget`，它接受一个 `Key` 类型的参数。

在 Flutter 中，`Key` 是一个对象，用于控制框架如何匹配旧的 widget 与新的 widget。大多数情况下，你不需要显式地使用 `Key`，但在某些情况下，它可能会很有用，例如当你有一个元素列表，并且可能会重新排序或修改这个列表时。

## createState()
createState() 是 Flutter 中 `StatefulWidget` 的一个重要方法，它用于创建和返回这个 `StatefulWidget` 的 `State` 对象。
用来保存它的状态。当状态改变时，Flutter 框架会调用 `build()` 方法来重新构建界面。

## setState()
setState() 是 Flutter 中 State 类的一个方法，用于通知 Flutter 框架这个 State 对象的状态已经改变。
当你调用 setState() 时，Flutter 会重新运行 build() 方法，以便在界面上反映新的状态。
